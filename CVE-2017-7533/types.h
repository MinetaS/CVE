#pragma once

#include "conf.h"

#define bool  _Bool
#define true  1
#define false 0

#define PTR_DEREF(p, sz) PTR_DEREF_##sz(p)
#define PTR_DEREF_64(p)  (*(uint64_t *)(p))
#define PTR(v)           ((void *)(v))

typedef struct _iovec_thread_args {
    int             thread_id;
    int             fd[2];
    struct iovec    stack[IOVEC_SIZE];
    uint8_t        *buf;
    bool            success;
} iovec_thread_args;